# 2. 기본 자료구조 및 배열

## 1. 관련 개념

### 1-1. $typing$ 모듈

- 사용하는 객체의 데이터타입을 주석 표시하기 위해 사용하는 모듈로 다음과 같이 표기하여 사용한다
- $var:dtype\_name$
- $def\,\,def\_name(p_1:dtype_1,p_2:dtype_2,...,p_n:dtype_n)-\rangle dtype_{return}$

### 1-2.대입은 값의 복사가 아니라 참조되는 곳을 복사하는 것이다

- 예

```python
lst1=[1,2,3,4,5]
lst2=lst1
print(id(lst1),id(lst2))

lst1[2]=9
print(lst1,lst2)

result)
2139772039360 2139772039360
[1, 2, 9, 4, 5] [1, 2, 9, 4, 5]
```

### 1-3.함수의 인자$arugment$와 매개변수$parameter$의 관계

- 파이썬의 매개변수$parameter$엔 실제로 인자$argument$가 들어간다.
- 함수안에서 매개변수$parameter$값이 변할때 인자값$argument$값이 업데이트 되는 것은 매개인자의 $dtype$에 달려 있다
    - 인자의 $dtype$가 $mutable$이면: 값이 업데이트 된다
    - 인자의 $dtype$이 $immutable$이면: 값이 업데이트 되지 않는다
- 이는 매개변수에 인수값을 복사하는 방식$call\,\,by\,\,value$나 매개변수와 인수가 같아지는 $call\,\,by \,\,reference$도 아닌 파이썬 고유의 방식이다
- 이뮤터블 예제: $argument$가 업데이트 되지 않음
    
    ```python
    def sum_val(n):
    	s=0
    	while n>0:
    	s= s+n
    	n=n-1
    	return s
    
    x=5
    print(sum_val(x))
    print(x)
    ---------------
    result)
    15
    5
    ```
    
- 뮤터블 예제: $argument$가 업데이트 됨
    
    ```python
    def change_lst(lst,idx,val):
        lst[idx]=val
    
    x=[11,22,33,44,55]
    print('x=',x)
    index=int(input('업데이트 할 인덱스 값을 선택하세요'))
    value=int(input('선택한 인덱스에 업데이트할 값을 입력하세요'))
    
    change_lst(x,index,value)
    print(f'x={x}')
    
    --------------------------------
    result)
    x= [11, 22, 33, 44, 55]
    업데이트 할 인덱스 값을 선택하세요 4
    선택한 인덱스에 업데이트할 값을 입력하세요 -30
    x=[11, 22, 33, 44, -30]
    ```
    

### 1-3.$enumerate$ 함수

- 인덱스와 원소를 짝지어 튜플로 꺼내는 함수

### 1-4. $for-else$ 구문

- $for$ 구문이 정상적으로 작동하면($break$나 $continue$가 작동되지 않고 실행이 종료됨) $else$구문이 작동한다.

```python
for 조건문:
	실행문 1
else:
	실행문 2

실행문 1이 정상 작동하면 실행문 2가 정상작동함
실행문 1이 break나 continue에 의해 도중 중단하여 완료시 실행문 2는 실행되지 않음
```

### 2-1. 몇명의 학생인지 정하고, 그 학생들의 성적 합과 평균 구하는 프로그램 만들기

```python
n= int(input('학생의 인원을 입력하세요'))
for i in range(1,n+1):
    globals()[f'score{i}'] =0

i=1
sum=0

while True:
    
    globals()[f'score{i}']= int(input(f'{i}번째 학생의 성적을 입력해주세요'))
    sum=sum+globals()[f'score{i}']
    i= i+1
    
    if i>n:
        avg=sum/n
        break
    
print(f'합계는 {sum}이고 평균은 {avg}입니다.')
------------------------------------------
학생의 인원을 입력하세요 5
1번째 학생의 성적을 입력해주세요 90
2번째 학생의 성적을 입력해주세요 85
3번째 학생의 성적을 입력해주세요 70
4번째 학생의 성적을 입력해주세요 90
5번째 학생의 성적을 입력해주세요 85
합계는 420이고 평균은 84.0입니다.
```

### 2.배열 원소 최댓값 구하는 알고리즘

- 이렇게 배열의 원소를 하나씩 차례대로 살펴보는 방식을 스캔$scan$이라고 부른다

```python
# 배열의 길이 받기, 배열의 원소값 받기
n= int(input('배열의 길이를 정해주세요'))
lst=[]
for _ in range(0,n):
    lst.append(float(input('배열의 원솟값을 지정해주세요')))
    
max_val= lst[0]
for i in range(1,n):
    if lst[i] > max_val : 
        max_val=lst[i]

print(lst,end='')
print(f' 의 최댓값은 {max_val}입니다')

---------------------------------------
result)
배열의 길이를 정해주세요 5
배열의 원솟값을 지정해주세요 -2
배열의 원솟값을 지정해주세요 3
배열의 원솟값을 지정해주세요 4
배열의 원솟값을 지정해주세요 -6.5
배열의 원솟값을 지정해주세요 5
[-2.0, 3.0, 4.0, -6.5, 5.0] 의 최댓값은 5.0입니다
```

### 2-2. 배열의 원소값을 계속 받되 end받으면 종료하기

```python
lst=[]
while True:
    response= input('배열의 원솟값을 입력해주세요. end를 입력하면 종료합니다.')
    if response == 'end':
        break
    lst.append(float(response))

n=len(lst)
max_val= lst[0]
for i in range(1,n):
    if lst[i] > max_val : 
        max_val=lst[i]

print(lst,end='')
print(f' 의 최댓값은 {max_val}입니다')
---------------------------------------
배열의 원솟값을 입력해주세요. end를 입력하면 종료합니다. 5
배열의 원솟값을 입력해주세요. end를 입력하면 종료합니다. 2
배열의 원솟값을 입력해주세요. end를 입력하면 종료합니다. -7
배열의 원솟값을 입력해주세요. end를 입력하면 종료합니다. 3.5
배열의 원솟값을 입력해주세요. end를 입력하면 종료합니다. end
[5.0, 2.0, -7.0, 3.5] 의 최댓값은 5.0입니다
```

### 2-3. 배열의 최댓값을 구하는 모듈 만들기

```python
#배열의 최댓값을 구하는 모듈 만들기
def max_of(lst):
    max_val=lst[0]
    for i in range(1,len(lst)):
        if max_val < lst[i] :
            max_val=lst[i]
    return max_val
```

### 2-4.인덱스와 원소값을 동시에 출력하는 두 가지 방식

```python
#인덱스와 원소값을 살피는 두가지의 방식
#방식 1
x=['John','George','Paul','Ringo']
for i in range(len(x)):
    print(f'x[{i}]= {x[i]}')
print('\n')

#방식2
for i,name in enumerate(x):
    print(f'x[{i}]={name}')
------------------------------
result)
x[0]= John
x[1]= George
x[2]= Paul
x[3]= Ringo

x[0]=John
x[1]=George
x[2]=Paul
x[3]=Ringo

#enumerate(x,a)를 하면 index0를 a로 지정하여 카운트한다
for i,name in enumerate(x,1):
    print(f'x[{i}]={name}')
------------------------------------
result)
x[1]=John
x[2]=George
x[3]=Paul
x[4]=Ringo
```

### 2-5. 배열 역순으로 만들기

```python
#배열 원소를 역순으로 정렬시키기
#step1. 리스트의 길이 정하고, 리스트의 원소값 받기
n=int(input('배열의 길이를 정해주세요'))
lst=[]
for i in range(0,n):
    lst.append(int(input(f'{i}번째 원소값을 지정해주세요 ')))
print('현재 배열은 '+str(lst)+' 입니다')

#step2.
'''
0번째 <-> n번째
1번째 <-> n-1번째
2번째 <-> n-2번째
...

몇번 바꿔야 될까?
n//2번 => 홀수인 경우 가운데 위치는 안바꿔도 되기 때문
'''
for i in range(0,n//2):
    lst[i] , lst[n-i-1] = lst[n-i-1], lst[i]

print('역순의 배열은 '+str(lst)+' 입니다')
```

### 2-6. $n$진수로 변환하는 프로그램 만들기

- 오리지날: 내가 만든것은 2~10진수 버전이다 11진수부턴 오답을 내놓는다
    
    ```python
    #n진수로 변환하는 프로그램 만들기 (내가 만든건 2~10진수 버전)
    x= int(input('정숫값을 입력해주세요'))
    n= int(input('변환하고 싶은 진수 값을 입력해주세요'))
    rlst=[]
    while True:
        x,r= x//n, x%n
        rlst.append(r)
        if x == 0:
            break
    
    rlst.reverse()
    print(f'{n}진법으로 표현한 정숫값은')
    for i in range(len(rlst)):
        print(rlst[i],end='')
    
    ----
    result)
    정숫값을 입력해주세요 51
    변환하고 싶은 진수 값을 입력해주세요 3
    3진법으로 표현한 정숫값은
    1220
    ```
    
- 개선안
    
    ```python
    #32진수까지 가능한 진수변환기
    def n_conv(x,n):
        clst=''
        char_lst='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'
        while x>0:
            clst= clst+ char_lst[x %n]
            x = x //n
        return clst[::-1]
    
    print(n_conv(250,16))
    ```
    

### 2-7. 소수 찾는 알고리즘

- 오리지날

```python
# 소수 찾는 알고리즘 만들기
#숫자 n이 소수인가 판별하는 알고리즘 만들기
def prime_list(x,y):
    prime_lst=[]
    for n in range(x,y+1):
        m=n-1
        
        while m >0:
            if n%m ==0:
                break
            m=m-1
        
        if m== 1:
            prime_lst.append(n)
    
    return prime_lst

print(prime_list(2,101))
-----------------------------------
result)
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 
61, 67, 71, 73, 79, 83, 89, 97, 101]
```

- 책에서 제시한 버전 $for-else$ 문을 이용

```python
counter=0
for n in range(2,1001):
    for i in range(2,n):
        counter= counter+1
        if n % i ==0:
            break
    else:
            print(str(n)+', ',end='')
print('\n'+'총 계산량은 '+str(counter)+' 입니다')
________________________________________
result)
2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 
47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 
107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167,
 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233,
 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 
313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389,
 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463,
 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 
569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643,
 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739,
 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829,
 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937,
 941, 947, 953, 967, 971, 977, 983, 991, 997, 
총 계산량은 78022 입니다

```

- 소수를 리스트에 저장해서 계산량을 줄인 버전

```python
counter=0
i=1
prime_lst=[2]
counter=0

for n in range(3,1001,2):
    for j in range(1,i):
        counter =counter+1
        if n% prime_lst[j]==0:
            break
    else:
        prime_lst.append(n)
        i=i+1
        
print(prime_lst)
print('계산한 횟수는 '+str(counter)+' 입니다')
________________________________________________
result)
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59,
 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 
127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193,
 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 
277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 
367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 
449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 
547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 
631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 
727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821,
 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911,
 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997]
계산한 횟수는 14622 입니다
```